var defaultScrollParam={pageId:"page",getCurrentPage:function(){return parseInt($("#"+this.pageId).val())},setCurrentPage:function(a){$("#"+this.pageId).val(a)},setStartPage:function(){$("#"+this.pageId).val(1)},totalpage:"",pageSize:15,parseData:function(a){},requestURL:"",requestType:"post",timeout:10000,isLoadingNow:false,toBottomPercent:0.2,sid:"",className:"initHeight",isDebug:false,hasData:function(){this._printDeugInfo("hasData: "+(this.getCurrentPage()<this.totalpage)+"|  getCurrentPage() : "+this.getCurrentPage()+", totalpage : "+this.totalpage);if(this.getCurrentPage()<this.totalpage){return true}else{return false}},onLoadData:function(){this._printDeugInfo("onLoadData");if(!this._validateParam()){return false}this._loadMoreData()},isLoading:function(){this._printDeugInfo("isLoadingNow : "+this.isLoadingNow);return this.isLoadingNow},addRunTopDiv:function(){},initRunTopMenu:function(){},displayRunTopMenu:function(){},isLoadData:function(){var h=$(window).height();var b=$(window).scrollTop();var e=$(document).height();var f=h+b;var d=this.adapterDocumentHeight();if($("."+this.className).html()!=null){var g=$("."+this.className).offset().top;var c=$("."+this.className).children().eq(0).outerHeight();var a=g+c*this.pageSize*(this.getCurrentPage()-this.toBottomPercent)-h;if(b>a||this.totalpage<=this.getCurrentPage()||e-d<=f){return true}}else{if((e-f)<(h*this.toBottomPercent)){return true}}return false},readyLoadingDiv:function(){this.setStartPage();this._addLoadingDiv();this._setLoadingStyle()},loadingStyleStart:function(){this._printDeugInfo("显示开始加载!");$(".list-nomore").hide();$(".list-loading").show()},loadingStyleEnd:function(b){$(".list-loading").hide();if(b.totalpage){var a=this.getCurrentPage();this._printDeugInfo("currentPage : "+a+" ; data.totalpage : "+b.totalpage);if(a>=b.totalpage){this._printDeugInfo("显示已经到尾页!");$(".list-nomore").show()}}},_getNextPage:function(){return(this.getCurrentPage()+1)},_setLoadingStyle:function(){this.totalpage==1?$(".list-nomore").show():$(".list-nomore").hide();$(".list-loading").hide()},_addLoadingDiv:function(){var b='<p style="-webkit-transform-origin: 0px 0px 0px; opacity: 1; -webkit-transform: scale(1, 1); display: none;" class="list-loading"><span></span>加载中...</p>';var a='<p style="-webkit-transform-origin: 0px 0px 0px; opacity: 1; -webkit-transform: scale(1, 1);display: none;" class="list-nomore"><span>已到尾页</span></p>';var c=b+a;if($("#loading")){this._printDeugInfo("loading html : "+c);$("#loading").addClass("list-state");$("#loading").html(c)}},_loadMoreData:function(){var b=this;var a=b._getNextPage();var c={url:b.requestURL,data:{page:a},type:b.requestType,timeout:b.timeout,cache:false,beforeSend:function(){b.loadingStyleStart();b.isLoadingNow=true},success:function(d){b.parseData(d);b.setCurrentPage(a);b.loadingStyleEnd(d);b.isLoadingNow=false},error:function(d){b.loadingStyleEnd(d);b.isLoadingNow=false}};jQuery.ajax(c)},_validateParam:function(){if(!(jQuery.isFunction(this.getCurrentPage)&&jQuery.isFunction(this.setCurrentPage)&&jQuery.isFunction(this.parseData))){console.log("getCurrentPage , setCurrentPage , parseData 必须是 function");alert("getCurrentPage , setCurrentPage , parseData 必须是 function");return false}return true},_printDeugInfo:function(a){if(this.isDebug){console.log(a)}}};